CREATE DATABASE CLINICA_MEDICA;

USE  CLINICA_MEDICA;

CREATE TABLE MEDICO(
CRM INT PRIMARY KEY,
NOME VARCHAR(50),
EMAIL VARCHAR(50),
DATA_NASC DATE,
TELEFONE INT UNIQUE,
ESPECIALIZACAO VARCHAR(25),
CHECK (ESPECIALIZACAO IN ('CARDIOLOGISTA', 'NUTRICIONISTA'))
);

CREATE TABLE PACIENTE(
ID INT PRIMARY KEY,
CPF VARCHAR(50),
NOME VARCHAR(50),
ENDERECO VARCHAR(75),
TIPO_EXAME VARCHAR(25),
CHECK (TIPO_EXAME IN ('LABORATORIAL', 'CLINICO'))
);

CREATE TABLE CONSULTA(
ID_MEDICO INT NOT NULL,
ID_PACIENTE INT NOT NULL,
FOREIGN KEY (ID_MEDICO) REFERENCES MEDICO(CRM),
FOREIGN KEY (ID_PACIENTE) REFERENCES PACIENTE(ID),
DATA_CONSULTA DATE NOT NULL,
VALOR DOUBLE NOT NULL,
TIPO_PAG VARCHAR(20) UNIQUE
);

INSERT INTO MEDICO(CRM, NOME, EMAIL, DATA_NASC, TELEFONE, ESPECIALIZACAO)
VALUES
(24, 'JOAO PEDRO', 'PEDRO@GMAIL.COM', '2025-09-10', '83995468674', 'CARDIOLOGISTA'),
(35, 'ANA MARIA', 'MARIA@GMAIL.COM', '2015-10-28', '8399764863', 'NUTRICIONISTA'),
(30, 'PAULO LIMA', 'PAULO@GMAIL.COM', '2014-12-24', '839963643634', 'CARDIOLOGISTA');

INSERT INTO PACIENTE(ID, CPF, NOME, ENDERECO, TIPO_EXAME)
VALUES
(1, 254, 'JULIO', 'RUA ABDH', 'LABORATORIAL'),
(2, 263, 'EMERIC', 'RUA DGSJSU', 'CLINICO'),
(3, 364, 'CAMILA', 'RUA GDHFE', 'LABORATORIAL'),
(4, 297, 'KAREN', 'RUA JHDKLRUIO3', 'CLINICO'),
(5, 276, 'RAFAEL', 'RUA JDHKQWDHHR', 'LABORATORIAL');

SELECT * FROM PACIENTE;




INSERT INTO CONSULTA(ID_MEDICO, ID_PACIENTE, DATA_CONSULTA, VALOR, TIPO_PAG)
VALUES
(24, 1, '2025-09-10', ' 50', 'PX' ),
(35,2, '2015-10-28', ' 60', 'TRANSFERENCIA'),
(30, 3, '2014-12-24', ' 55', 'CRÉDITO'),
(35, 4, '2015-10-28', ' 75', 'DÉBITO'),
(24, 5, '2025-09-10', ' 55', 'DINHEIRO');

DELETE FROM PACIENTE WHERE ID = 4;

UPDATE PACIENTE SET ID = 7 WHERE ID = 2;

SELECT * FROM PACIENTE ;

SELECT NOME, ESPECIALIZACAO FROM MEDICO;

SELECT * FROM CONSULTA WHERE ID = 3;

SELECT NOME, ESPECIALIZACAO FROM MEDICO;

SELECT * FROM CONSULTA WHERE ID = 3;

SELECT * FROM PACIENTE WHERE DATA_NASC > 2000;

SELECT * FROM MEDICO WHERE ESPECIALIZACAO = ' CARDIOLOGISTA';

/* CRIANDO BANCO DE DADO*/
CREATE DATABASE SGE;

USE SGE

/*CRIANDA A PRIMEIRA TABELA*/

CREATE TABLE ALUNOS(
ID_ALUNO INT AUTO_INCREMENT PRIMARY KEY,
NOME VARCHAR (50),
DATA_NASC DATE
);


ALTER TABLE ALUNOS
ADD COLUMN EMAIL VARCHAR(50);

ALTER TABLE ALUNOS
ADD COLUMN ID_CURSO INT;

ALTER tablE ALUNOS
ADD CONSTRAINT FK_ALUNOS_CURSO
FOREIGN KEY (ID_CURSO) REFERENCES CURSOS(ID_CURSO);

/*CRIANDA A SEGUNDA TABELA*/

CREATE TABLE CURSOS(
ID_CURSO INT AUTO_INCREMENT PRIMARY KEY,
NOME_CURSO VARCHAR(75),
CARGA_HORARIA INT,
DISCIPLINAS VARCHAR (75),
HORARIOS DATETIME 
);
DROP TABLE CURSOS;

ALTER TABLE CURSOS
ADD COLUMN PRECO DECIMAL(10,2);

/*INSERIR VALORES*/

INSERT INTO CURSOS(NOME_CURSO, CARGA_HORARIA, DISCIPLINAS, HORARIOS, PRECO)
VALUES
( 'ECONOMIA', 1500, 'MQTEMÁTICA', '2025-10-12 10:00:39', 1500.50),
( 'CIÊNCIA DA COMPUTAÇÃO', 1200, 'MY SQL', '2026-01-03 11:00:21', 2000.59),
( 'CIÊNCIA DE DADOS', 1000, 'FISICA', '2026-02-12 11:25:23', 1300.49);

SELECT * FROM CURSOS;

INSERT INTO ALUNOS(NOME, DATA_NASC, EMAIL)
VALUES
('PAULO', '2000-01-03', 'PAULO@GMAIL.COM'),
('MARIA', '2002-04-07', 'MARIA@GMAIL.COM'),
('JOÃO', '2004-06-08', 'JOÃO@GMAIL.COM');

CREATE TABLE PROFESSORES (
ID_PROFESSOR INT AUTO_INCREMENT PRIMARY KEY,
NOME VARCHAR(50) NOT NULL,
EMAIL VARCHAR(50),
DATA_NASC DATE,
ESPECIALIDADE VARCHAR(75)
);

CREATE TABLE FUNCIONARIOS (
ID_FUNCIONARIO INT AUTO_INCREMENT PRIMARY KEY,
NOME VARCHAR(50) NOT NULL,
EMAIL VARCHAR(50),
DATA_NASC DATE,
CARGO VARCHAR(50),
SALARIO DECIMAL(10,2)
);

INSERT INTO PROFESSORES( NOME, EMAIL, DATA_NASC, ESPECIALIDADE)
VALUES
('JEAN', 'JEAN@GMAIL.COM', '1995-10-29', 'MATEMÁTICA'),
('MARIA', 'MARIA@GMAIL.COM', '2000-01-03', 'FÍSICA'),
('ÉRICO','ÉRICO@GMAIL.COM', '1994-02-03', 'ECONOMIA');

INSERT INTO FUNCIONARIOS(NOME, EMAIL, DATA_NASC, CARGO, SALARIO)
VALUES
('MELISSA', 'MELISSA@GMAIL.COM', '2000-03-01', 'GESTIONARIO ADMINISTRATIVO', 3500.75),
('LOURENÇO', 'LOURENÇO@GMAIL.COM', '1995-08-30', 'INFORMÁTICO', 4000.90),
('SORAIA', 'SORAIA@GMAIL.COM', '1997-04-20', 'SEGURANÇA', 3000.50);

SELECT * FROM ALUNOS;
SELECT * FROM CURSOS;
SELECT * FROM FUNCIONARIOS;
SELECT * FROM PROFESSORES;
SELECT NOME, EMAIL FROM ALUNOS;
SELECT * FROM ALUNOS
WHERE DATA_NASC > '2001-01-01';
SELECT NOME, DATA_NASC FROM ALUNOS
ORDER BY DATA_NASC ASC;   -- crescente
SELECT NOME, DATA_NASC FROM ALUNOS
ORDER BY DATA_NASC DESC;  -- decrescente
SELECT COUNT(*) AS total_alunos FROM ALUNOS;
SELECT AVG(PRECO) AS preco_medio FROM CURSOS;
SELECT MAX(CARGA_HORARIA) AS maior_carga FROM CURSOS;
SELECT DISCIPLINAS, COUNT(*) AS qtd_cursos
FROM CURSOS
GROUP BY DISCIPLINAS;

